## 트랜잭션이란 무엇이고 원자성, 일관성, 고립성, 지속성이란 무엇인지 설명해주실 수 있을까요?</br>
  **트랜잭션**이란 쪼갤 수 없는 업무처리의 최소 단위를 말하는데 예를들면 A라는 사람이 B라는 사람에게 천원을 지급하고 B가 그 돈을 받은경우 이거래 기록은 더이상 작게 쪼갤수가 없는 하나의 트랜잭션을 구성합니다. 만약 A는 돈을 지불했으나 B는 돈을 받지 못했다면 그 거래는 성립되지 않으며 A가 돈을 지불하는 행위와 B가 돈을 받는 행위는 별개로 분리될 수 없고 하나의 거래내역으로 처리되어야하는 단일거래입니다. 이러한 거래의 최소단위를 트랜잭션이라하고 처리가 정상적으로 완료된경우 커밋하고 오류가 발생할 경우 원래상태대로 롤백합니다.</br></br>

  데이터베이스의 트랜잭션이 안전하게 수행되기 위해서는 **ACID**조건을 충족해야 하는데 **원자성, 일관성, 고립성, 지속성**의 약자로 데이터베이스의 트랜잭션이 안전하게 수행되기 위한 **4가지 필수적인 성질**을 말합니다.</br></br>

  **원자성**은 수행하고 있는 트랜잭션에 의해 변경된 내역을 유지하면서 이전에 커밋된 상태를 임시 영역에 따로 저장함으로 보장합니다. 현재 수행하고 있는 트랜잭션에서 오류가 발생하면 현재 내역을 지우고 임시영역에 저장했던 상태로 롤백하는데 이를 롤백세그먼트라고 하고 현재 수행하는 트랜잭션에 의해 새롭게 변경되는 내역을 데이터베이스 테이블이라고 합니다.</br></br>

  **일관성**은 트랜잭션 수행 전후에 데이터 모델의 모든 제약조건* 을 만족하는 것을 통해 보장합니다.</br>
  예를 들면 Movie와 Video 테이블이 있을때 Video 테이블의 기본키인 movie_id가 외래키로 존재한다고 가정할때 만약 movie_id의 제약 조건이 Movie테이블에서 변경되면 Video 테이블에서도 movie_id가 변경되어야 합니다. 즉 한 쪽의 테이블에서만 데이터 변경사항이 이루어져서는 안되는 것입니다.</br></br>

  **고립성**은 하나의 트랜잭션 수행시 병행처리 과정에서 다른 트랜잭션의 작업이 끼어들지 못하도록 보장하는 것인데 데이터를 읽거나 쓸때는 문을 잠궈 다른 트랜잭션이 접근하지 못하도록 고립성을 보장하고 수행을 마치면 언락을 통해 데이터를 다른 트랜잭션이 접근할수 있도록 허용하는 방식입니다.
  트랜잭션에서는 데이터를 읽을때 여러 트랜잭션이 읽기만 허용하는 공유 록을 사용하고, 데이터를 쓸 때는 다른 트랜잭션이 읽거나 쓰지 못하는 배타 록을 사용합니다.</br>
  락과 언락을 잘못 사용하면 데드락 상태에 빠질수도 있는데 모든 트랜잭션이 아무것도 수행할 수 없는 상태가 되는것을 뜻합니다.</br></br>

  **지속성**은 트랜잭션이 정상적으로 종료된 다음 영구적으로 데이터베이스에 작업의 결과가 저장되어야 하는데 트랜잭션의 성공 결과값은 장애 발생 후에도 변함없이 보관되어야 한다는 것으로 트랜잭션이 정상적으로 완료되면 버퍼의 내용을 데이터베이스에 확실히 기록해야하고 부분완료된 경우 작업 취소를 하여야합니다.</br></br>

  그 외 특징으로 **무정지성**이 있는데 트랜잭션의 기능 중 대표적인 이점 중 하나입니다. 운영체제 장애 등의 서버 장애가 발생하여 그로부터 데이터베이스를 재가동한 때에 '장애 직전까지의 커밋결과를 손실하지 않고 마치는 것'이 가능하며 트랜잭션을 지원하지 않는 데이터베이스의 경우 OS 장애뿐만 아니라 데이터베이스 프로세스가 비정상적으로 종료하기만 해도 데이터베이스가 손상될 수 있습니다.</br>
  깨진 데이터베이스를 복구하려고 해도 일부 데이터가 없어지거나 완전히 복구되지 않는 등 완전한 회복이 불가능한 경우도 많은데 오라클과 InnoDB같은 트랜잭션 대응의 데이터베이스에서는 이러한 문제가 발생하지 않는데 데이터베이스에서 수행한 작업을 다시 실행하는 REDO로그* 를 이용한 아키텍처로 무정지성을 보장하고 있기 때문입니다.</br></br>

  *모든 제약조건 = 기본 키, 외래 키, 도메인, 도메인 제약조건 등</br>
  *REDO 로그 = 열 값과 인덱스를 갖는 데이터 파일에는 커밋을 할 때마다 기록을 하는 것이 아니라 캐시 영역에 보관해 두고 정기적으로 디스크에 기록하는 동작을 하는데 REDO 로그 파일이 최신 커밋정보를 가지고 있는 반면, 본체의 데이터 파일은 오래된 데이터를 가지고 있게 됩니다. 그래도 캐시영역에 최신데이터가 있기 때문에 데이터 파일에 이전 데이터밖에 없더라도 애플리케이션에서 보면 최신 데이터를 읽고 쓸 쑤 있어 모순된 상태가 되지않고 서버 장애 등의 이유로 데이터베이스가 멈춰서 재기동을 하게되는 경우 데이터파일이 이전 데이터밖에 남지 않았을 때 REDO 로그의 내용을 데이터 파일에 적용시켜 나감으로써 데이터파일과 REDO 로그의 LSN과 일치시키는 작업을 수행합니다. 이 과정을 충돌 복구하고 합니다.</br></br>

  http://wiki.hash.kr/index.php/%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98</br></br>